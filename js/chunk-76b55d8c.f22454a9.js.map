{"version":3,"sources":["webpack:///./src/views/home/childComps/homeSwipe.vue?4fe2","webpack:///./src/views/home/Home.vue?a49e","webpack:///./src/components/content/goods/Goodslist.vue?88ac","webpack:///./src/components/content/goods/Goods.vue?b9a6","webpack:///./src/components/content/tabcontrol/Tabcontrol.vue?aae5","webpack:///./src/views/home/Home.vue","webpack:///./src/views/home/childComps/homeSwipe.vue","webpack:///./src/views/home/childComps/homeSwipe.vue?486e","webpack:///./src/views/home/childComps/RecomView.vue","webpack:///./src/views/home/childComps/RecomView.vue?9ae9","webpack:///./src/components/content/tabcontrol/Tabcontrol.vue","webpack:///./src/components/content/tabcontrol/Tabcontrol.vue?7070","webpack:///./src/network/home.js","webpack:///./src/views/home/Home.vue?5e3a","webpack:///./src/views/home/childComps/RecomView.vue?b25f","webpack:///./src/components/content/goods/Goodslist.vue","webpack:///./src/components/content/goods/Goods.vue","webpack:///./src/components/content/goods/Goods.vue?ed3d","webpack:///./src/components/content/goods/Goodslist.vue?ad2f"],"names":["id","class","ref","left","default","right","istab","tabClick","title","banners","recommends","goods","showgoods","isback","btop","alt","length","style","autoplay","indicator-color","item","index","key","img_url","name","props","Array","render","__scopeId","slice","href","goD","cover_url","type","setup","router","push","path","query","itemClick","currentIdex","emit","value","getHomeAllData","request","url","getHomegoods","page","method","banref","sales","list","recommend","new","currentType","bs","then","res","data","slides","catch","err","document","querySelector","probeType","click","pullUpLoad","on","position","y","offsetHeight","finishPullUp","refresh","scrollTo","types","components","homeSwip","Navbar","RecomView","Tabcontrol","Goodslist","Backtop","product","price","collects_count","Object","ruoter","Goods"],"mappings":"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","file":"js/chunk-76b55d8c.f22454a9.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./homeSwipe.vue?vue&type=style&index=0&id=070e6778&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=ff86d250&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Goodslist.vue?vue&type=style&index=0&id=5844fa86&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Goods.vue?vue&type=style&index=0&id=2d9798d6&scoped=true&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Tabcontrol.vue?vue&type=style&index=0&id=004a296b&scoped=true&lang=scss\"","<template>\r\n  <div id=\"home\">\r\n    <Navbar>\r\n      <template v-slot:left>\r\n        <div class=\"icon\"><i class=\"iconfont icon-jiantou\"></i></div>\r\n      </template>\r\n      <template v-slot:default>\r\n        起点读书\r\n      </template>\r\n      <template v-slot:right>     \r\n      </template>\r\n    </Navbar>\r\n    <Tabcontrol v-if=\"istab\" @tabClick='tabClick' :title=\"['畅销','新书','精选']\"></Tabcontrol>\r\n    <div class=\"wrapper\">\r\n      <div class=\"conten\">\r\n        <div ref=\"banref\">\r\n          <homeSwip :banners='banners'></homeSwip>\r\n          <RecomView :recommends='recommends'></RecomView>\r\n        </div>\r\n        <Tabcontrol @tabClick='tabClick' :title=\"['畅销','新书','精选']\"></Tabcontrol>\r\n        <Goodslist :goods='showgoods'></Goodslist>\r\n      </div>\r\n    </div>\r\n    <Backtop @btop=\"btop\" v-if=\"isback\"></Backtop>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport homeSwip from 'views/home/childComps/homeSwipe';\r\nimport Navbar from 'components/common/navbar/Navbar';\r\nimport RecomView from 'views/home/childComps/RecomView';\r\nimport Tabcontrol from 'components/content/tabcontrol/Tabcontrol';\r\nimport Goodslist from 'components/content/goods/Goodslist';\r\nimport Backtop from 'components/common/backtop/Backtop';\r\nimport {ref,onMounted, reactive,computed,watchEffect,nextTick} from 'vue';\r\nimport {getHomeAllData,getHomegoods} from 'network/home';\r\nimport BScroll from 'better-scroll';\r\n\r\nexport default {\r\n  name: 'Home',\r\n  setup() {\r\n\r\n    let istab = ref(false)\r\n    let isback = ref(false)\r\n    let banref = ref(null)\r\n    const recommends = ref([])\r\n\r\n    // 商品列表数据模型\r\n    const goods = reactive({\r\n      sales: {page:0,list:[]},\r\n      recommend: {page:0,list:[]},\r\n      new: {page:0,list:[]},\r\n    })\r\n\r\n    let currentType = ref('sales')\r\n\r\n    const showgoods = computed(() => {\r\n      return goods[currentType.value].list;\r\n    })\r\n\r\n    let bs = reactive({});\r\n    let banners = ref([]);\r\n\r\n    onMounted(() => {\r\n      getHomeAllData().then(res => {\r\n        recommends.value = res.goods.data;\r\n        banners.value = res.slides\r\n      }).catch(err => {\r\n        // console.log(err);\r\n      })\r\n\r\n      getHomegoods('sales').then(res => {\r\n        goods.sales.list = res.goods.data;\r\n      })\r\n\r\n      getHomegoods('recommend').then(res => {\r\n        goods.recommend.list = res.goods.data;\r\n      })\r\n\r\n      getHomegoods('new').then(res => {\r\n        goods.new.list = res.goods.data;\r\n      })\r\n\r\n      // console.log(goods);\r\n      // BetterScroll对象\r\n      bs = new BScroll(document.querySelector('.wrapper'), {\r\n        probeType: 3,\r\n        click: true,\r\n        pullUpLoad: true,\r\n      });\r\n      \r\n      bs.on('scroll', (position) => {\r\n        isback.value = istab.value = (-position.y) > banref.value.offsetHeight;\r\n        // console.log(position.y);\r\n      })\r\n\r\n      // 上拉加载数据，触发pullingUp\r\n      bs.on(\"pullingUp\",() => {\r\n        // console.log('上拉加载');\r\n        // document.querySelector('.conten').clientWidth;\r\n\r\n        const page = goods[currentType.value].page + 1\r\n\r\n        // console.log(currentType.value,page);\r\n        getHomegoods(currentType.value,page).then(res => {\r\n          goods[currentType.value].list.push(...res.goods.data);\r\n          goods[currentType.value].page += 1;\r\n        })\r\n\r\n        // 完成上拉，等数据请求完成，将新数据展示出来\r\n        bs.finishPullUp();\r\n        // 重新计算高度\r\n        bs.refresh();\r\n      })\r\n        \r\n    });\r\n\r\n    const btop = () => {\r\n      bs.scrollTo(0,0,500);\r\n    }\r\n\r\n    \r\n    const tabClick = (index) => {\r\n\r\n      let types = ['sales','recommend','new']\r\n\r\n      currentType.value = types[index]\r\n    }\r\n\r\n    // 监听任何一个变量\r\n    watchEffect(() => {\r\n      nextTick(() => {\r\n        // 监听计算高度\r\n        bs && bs.refresh();\r\n      })\r\n    })\r\n\r\n    return {\r\n      recommends,\r\n      tabClick,\r\n      showgoods,\r\n      currentType,\r\n      istab,\r\n      isback,\r\n      banref,\r\n      btop,\r\n      banners,\r\n    }\r\n  },\r\n  components: {\r\n    homeSwip,\r\n    Navbar,\r\n    RecomView,\r\n    Tabcontrol,\r\n    Goodslist,\r\n    Backtop,\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* .banners img{\r\n  width: 100%;\r\n  height: auto;\r\n} */\r\n\r\n#home {\r\n  height: 100vh;\r\n  position: relative;\r\n}\r\n.wrapper {\r\n  position: absolute;\r\n  top: 45px;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow: hidden;\r\n}\r\n/* .conten {\r\n\r\n} */\r\n</style>","<template>\r\n  <van-swipe style=\"overflow: hidden\" v-if=\"banners.length\" class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n    <van-swipe-item v-for=\"(item, index) in banners\" :key=\"index\">\r\n      <img v-lazy=\"item.img_url\" alt=\"轮播图片\">\r\n    </van-swipe-item>\r\n  </van-swipe>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"homeSwipe\",\r\n  props: {\r\n    banners: Array,\r\n    default() {\r\n      return [];\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* .my-swipe .van-swipe-item {\r\n  \r\n} */\r\nimg {\r\n  width: 100%;\r\n  height: auto !important;\r\n}\r\nimg[lazy=\"loading\"]{width:80px;height:80px;}\r\n</style>","import { render } from \"./homeSwipe.vue?vue&type=template&id=070e6778&scoped=true\"\nimport script from \"./homeSwipe.vue?vue&type=script&lang=js\"\nexport * from \"./homeSwipe.vue?vue&type=script&lang=js\"\n\nimport \"./homeSwipe.vue?vue&type=style&index=0&id=070e6778&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-070e6778\"\n\nexport default script","<template>\r\n  <div class=\"recommend\">\r\n    <div class=\"recommend-itme\" v-for=\"item in recommends.slice(0,4)\" :key=\"item.id\">\r\n      <a href=\"\" @click.prevent= \"goD(item.id)\">\r\n        <img v-lazy=\"item.cover_url\" alt=\"\">\r\n        <div>{{item.title}}</div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {useRouter} from 'vue-router'\r\n\r\nexport default {\r\n  name: 'RecommendView',\r\n  props: {\r\n    recommends: {\r\n      type:Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    }\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n\r\n    const goD = (id) => {\r\n      router.push({path: '/detail',query:{id}})\r\n    }\r\n\r\n    return {\r\n      goD\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.recommend {\r\n  display:flex;\r\n  width: 100%;\r\n  text-align: center;\r\n  padding: 15px 0 30px;\r\n  border-bottom: 8px solid #eee;\r\n  font-size: 12px;\r\n}\r\n.recommend-itme {\r\n  flex: 1;\r\n  img {\r\n    width: 70px;\r\n    height: auto;\r\n    margin-bottom: 10px;\r\n  }\r\n}\r\n\r\n</style>","import { render } from \"./RecomView.vue?vue&type=template&id=7305f70e&scoped=true\"\nimport script from \"./RecomView.vue?vue&type=script&lang=js\"\nexport * from \"./RecomView.vue?vue&type=script&lang=js\"\n\nimport \"./RecomView.vue?vue&type=style&index=0&id=7305f70e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-7305f70e\"\n\nexport default script","<template>\r\n  <div class=\"tab-control\">\r\n    <div @click=\"itemClick(index)\" class=\"tab-control-item\" :class=\"{active:currentIdex == index}\" v-for=\"(item,index) in title\" :key=\"index\">\r\n      <span>{{item}}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ref} from 'vue';\r\nexport default {\r\n  name: 'Tabcontrol',\r\n  props: {\r\n    title: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  setup(props, {emit}) {\r\n    let currentIdex = ref(0);\r\n\r\n    const itemClick = (index) => {\r\n      currentIdex.value = index;\r\n      emit('tabClick',index)\r\n    }\r\n    return {\r\n      currentIdex,\r\n      itemClick\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.tab-control {\r\n  display: flex;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  background-color: #fff;\r\n  width: 100%;\r\n  z-index: 10;\r\n\r\n  position: sticky;\r\n  top: 44px;\r\n  .tab-control-item {\r\n    flex: 1;\r\n    span {\r\n      padding: 6px;\r\n    }\r\n  }\r\n  .active {\r\n    color: var(--color-tint);\r\n    span {\r\n      border-bottom: 3px solid var(--color-tint);\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Tabcontrol.vue?vue&type=template&id=004a296b&scoped=true\"\nimport script from \"./Tabcontrol.vue?vue&type=script&lang=js\"\nexport * from \"./Tabcontrol.vue?vue&type=script&lang=js\"\n\nimport \"./Tabcontrol.vue?vue&type=style&index=0&id=004a296b&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-004a296b\"\n\nexport default script","import {request} from './request';\r\n\r\nexport function getHomeAllData() {\r\n  return request({\r\n    url: '/api/index',\r\n    // method: 'get',\r\n    // params: {\r\n    // }\r\n  })\r\n}\r\n\r\nexport function getHomegoods(type='sales',page=1) {\r\n  return request({\r\n    url: '/api/index?'+type+'=1&'+'page='+page,\r\n    method: 'get',\r\n    // params: {\r\n    //   type:'sales',\r\n    //   page:1\r\n    // }\r\n  })\r\n}","import { render } from \"./Home.vue?vue&type=template&id=ff86d250&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=ff86d250&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-ff86d250\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RecomView.vue?vue&type=style&index=0&id=7305f70e&scoped=true&lang=scss\"","<template>\r\n  <div class=\"goods\">\r\n    <Goods v-for=\"item in goods\" :product='item' :key=\"item.id\"></Goods>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Goods from 'components/content/goods/Goods'\r\nexport default {\r\n  name: 'Goodslist',\r\n  props: {\r\n    goods: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    Goods\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.goods {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n  padding: 5px;\r\n}\r\n</style>","<template>\r\n  <div class=\"goods-item\" @click=\"itemClick\">\r\n    <img v-lazy=\"product.cover_url\" alt=\"\" />\r\n    <div class=\"goods-info\">\r\n      <p>{{ product.title }}</p>\r\n      <span class=\"price\"><small>￥</small>{{ product.price }}</span>\r\n      <span class=\"collect\">{{ product.collects_count }}</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"Goods\",\r\n  props: {\r\n    product: Object,\r\n    default() {\r\n      return {};\r\n    },\r\n  },\r\n  setup(props) {\r\n    const ruoter = useRouter();\r\n\r\n    return{\r\n      itemClick:() => {\r\n        ruoter.push({path:'/detail',query:{id:props.product.id}});\r\n      },\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.goods-item {\r\n  width: 46%;\r\n  padding-bottom: 40px;\r\n  position: relative;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n    border-radius: 5px;\r\n  }\r\n  .goods-info {\r\n    font-size: 12px;\r\n    position: absolute;\r\n    bottom: 5px;\r\n    left: 0;\r\n    right: 0;\r\n    overflow: hidden;\r\n    text-align: center;\r\n    p {\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      margin-bottom: 3px;\r\n    }\r\n    .price {\r\n      color: red;\r\n      margin-right: 20px;\r\n    }\r\n\r\n    .collect {\r\n      position: relative;\r\n    }\r\n    .collect::before {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: -15px;\r\n      width: 14px;\r\n      height: 14px;\r\n      top: -1px;\r\n      background: url(\"~assets/sc.png\") 0 0/14px 14px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./Goods.vue?vue&type=template&id=2d9798d6&scoped=true\"\nimport script from \"./Goods.vue?vue&type=script&lang=js\"\nexport * from \"./Goods.vue?vue&type=script&lang=js\"\n\nimport \"./Goods.vue?vue&type=style&index=0&id=2d9798d6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2d9798d6\"\n\nexport default script","import { render } from \"./Goodslist.vue?vue&type=template&id=5844fa86&scoped=true\"\nimport script from \"./Goodslist.vue?vue&type=script&lang=js\"\nexport * from \"./Goodslist.vue?vue&type=script&lang=js\"\n\nimport \"./Goodslist.vue?vue&type=style&index=0&id=5844fa86&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-5844fa86\"\n\nexport default script"],"sourceRoot":""}