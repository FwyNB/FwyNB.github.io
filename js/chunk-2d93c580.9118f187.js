(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d93c580"],{"33da":function(e,t,c){},"9fc8":function(e,t,c){"use strict";c("33da")},bb51:function(e,t,c){"use strict";c.r(t);c("b0c0");var n=c("7a23"),a=Object(n["R"])("data-v-6a8c40d6");Object(n["A"])("data-v-6a8c40d6");var i=Object(n["i"])("div",{class:"icon"},[Object(n["i"])("i",{class:"iconfont icon-jiantou"})],-1),o=Object(n["h"])(" 商品分类 "),u={id:"mainbox"},l={class:"ordertab"},r={class:"goodslist"},b={class:"content"};Object(n["y"])();var s=a((function(e,t,c,s,d,j){var O=Object(n["F"])("Navbar"),f=Object(n["F"])("van-tab"),v=Object(n["F"])("van-tabs"),p=Object(n["F"])("van-sidebar-item"),m=Object(n["F"])("van-collapse-item"),g=Object(n["F"])("van-collapse"),h=Object(n["F"])("van-sidebar"),k=Object(n["F"])("van-card"),C=Object(n["F"])("Backtop");return Object(n["x"])(),Object(n["f"])("div",null,[Object(n["i"])(O,null,{left:a((function(){return[i]})),default:a((function(){return[o]})),_:1}),Object(n["i"])("div",u,[Object(n["i"])("div",l,[Object(n["i"])(v,{modelValue:s.active,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.active=e}),onClick:s.tabClick},{default:a((function(){return[Object(n["i"])(f,{title:"月票"}),Object(n["i"])(f,{title:"推荐"}),Object(n["i"])(f,{title:"收藏"})]})),_:1},8,["modelValue","onClick"])]),Object(n["i"])(h,{class:"leftmenu",modelValue:s.activeKey,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.activeKey=e})},{default:a((function(){return[Object(n["i"])(g,{modelValue:s.activeName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.activeName=e}),accordion:""},{default:a((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(s.categories,(function(e){return Object(n["x"])(),Object(n["f"])(m,{key:e.id,title:e.name,name:e.name},{default:a((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(e.children,(function(e){return Object(n["x"])(),Object(n["f"])(p,{key:e.id,title:e.name,onClick:function(t){return s.getGoods(e.id)}},null,8,["title","onClick"])})),128))]})),_:2},1032,["title","name"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["modelValue"]),Object(n["i"])("div",r,[Object(n["i"])("div",b,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(s.showGoods,(function(e){return Object(n["x"])(),Object(n["f"])(k,{key:e.id,onClick:function(t){return s.itemClick(e.id)},num:e.comments_count,tag:e.comments_count>0?"流行":"标签",price:e.price,desc:e.updated_at,title:e.title,thumb:e.cover_url,"origin-price":e.price+10,"lazy-load":!0},null,8,["onClick","num","tag","price","desc","title","thumb","origin-price"])})),128))])])]),s.isback?(Object(n["x"])(),Object(n["f"])(C,{key:0,onBtop:s.btop},null,8,["onBtop"])):Object(n["g"])("",!0)])})),d=c("2909"),j=c("406a"),O=c("6c02"),f=c("1bab");function v(){return Object(f["a"])({url:"/api/goods"})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(f["a"])({url:"/api/goods?category_id="+t+"&page="+c+"&"+e+"=1"})}var m=c("cd4a"),g=c("f40f"),h={name:"Category",setup:function(){var e=Object(O["d"])(),t=Object(n["C"])(1),c=Object(n["C"])(0),a=Object(n["C"])(1),i=Object(n["C"])([]),o=Object(n["C"])(!1),u=Object(n["C"])("sales"),l=Object(n["C"])("0"),r=Object(n["B"])({}),b=Object(n["B"])({sales:{page:1,list:[]},price:{page:1,list:[]},comments_count:{page:1,list:[]}}),s=Object(n["d"])((function(){return b[u.value].list})),j=function(){p("sales",l.value).then((function(e){b.sales.list=e.goods.data})),p("price",l.value).then((function(e){b.price.list=e.goods.data})),p("comments_count",l.value).then((function(e){b.comments_count.list=e.goods.data}))};Object(n["u"])((function(){v().then((function(e){i.value=e.categories})),j(),r=new g["a"](document.querySelector(".goodslist"),{probeType:3,click:!0,pullUpLoad:!0}),r.on("scroll",(function(e){o.value=-e.y>300})),r.on("pullingUp",(function(){b[u.value].page;p(u.value,l.value).then((function(e){var t;(t=b[u.value].list).push.apply(t,Object(d["a"])(e.goods.data)),b[u.value].page+=1})),r.finishPullUp(),Object(n["p"])((function(){r&&r.refresh()}))}))}));var f=function(){r.scrollTo(0,0,500)},m=function(e){var t=["sales","price","comments_count"];u.value=t[e],p(u.value,l.value).then((function(e){b[u.value].list=e.goods.data,Object(n["p"])((function(){r&&r.refresh()}))}))};Object(n["N"])((function(){Object(n["p"])((function(){r&&r.refresh()}))}));var h=function(e){l.value=e,j()};return{activeKey:c,categories:i,activeName:a,active:t,tabClick:m,currentOrder:u,getGoods:h,currentCid:l,showGoods:s,isback:o,btop:f,itemClick:function(t){e.push({path:"/detail",query:{id:t}})}}},components:{Navbar:j["a"],Backtop:m["a"]}};c("9fc8");h.render=s,h.__scopeId="data-v-6a8c40d6";t["default"]=h}}]);
//# sourceMappingURL=chunk-2d93c580.9118f187.js.map